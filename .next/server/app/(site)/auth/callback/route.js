"use strict";(()=>{var e={};e.id=991,e.ids=[991],e.modules={2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},5477:e=>{e.exports=require("punycode")},2781:e=>{e.exports=require("stream")},7310:e=>{e.exports=require("url")},9796:e=>{e.exports=require("zlib")},8412:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>E,patchFetch:()=>_,requestAsyncStorage:()=>x,routeModule:()=>l,serverHooks:()=>h,staticGenerationAsyncStorage:()=>d});var s={};r.r(s),r.d(s,{GET:()=>p,POST:()=>u});var a=r(9303),o=r(8716),n=r(670),i=r(7070),c=r(884);async function u(e){let{event:t,session:r}=await e.json().catch(()=>({})),s=i.NextResponse.json({ok:!0}),a=(0,c.Z)(s);return("SIGNED_OUT"===t||"USER_DELETED"===t)&&await a.auth.signOut(),("SIGNED_IN"===t||"INITIAL_SESSION"===t||"TOKEN_REFRESHED"===t||"USER_UPDATED"===t)&&r?.access_token&&r?.refresh_token&&await a.auth.setSession({access_token:r.access_token,refresh_token:r.refresh_token}),s}async function p(e){let t=new URL(e.url),r=t.searchParams.get("code"),s=new URL(t.searchParams.get("next")??"/",process.env.NEXT_PUBLIC_SITE_URL||t.origin),a=i.NextResponse.redirect(s);if(!r)return a;let o=(0,c.Z)(a);return await o.auth.exchangeCodeForSession(r),a}let l=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/(site)/auth/callback/route",pathname:"/auth/callback",filename:"route",bundlePath:"app/(site)/auth/callback/route"},resolvedPagePath:"/Users/Wenyu/Documents/GitHub/EJ-Blog/app/(site)/auth/callback/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:x,staticGenerationAsyncStorage:d,serverHooks:h}=l,E="/(site)/auth/callback/route";function _(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:d})}},884:(e,t,r)=>{r.d(t,{Z:()=>o});var s=r(1615),a=r(7721);let o=function(e){let t=(0,s.cookies)();return(0,a.createServerClient)(process.env.NEXT_PUBLIC_SUPABASE_URL,process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,{cookies:{get:e=>t.get(e)?.value,set(t,r,s){e.cookies.set({name:t,value:r,...s??{}})},remove(t,r){e.cookies.set({name:t,value:"",...r??{},maxAge:0})}}})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,326,738,702,972],()=>r(8412));module.exports=s})();