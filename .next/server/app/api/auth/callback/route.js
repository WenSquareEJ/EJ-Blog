"use strict";(()=>{var e={};e.id=292,e.ids=[292],e.modules={2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},5477:e=>{e.exports=require("punycode")},2781:e=>{e.exports=require("stream")},7310:e=>{e.exports=require("url")},9796:e=>{e.exports=require("zlib")},3379:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>_,patchFetch:()=>E,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>h,staticGenerationAsyncStorage:()=>x});var s={};r.r(s),r.d(s,{GET:()=>p,POST:()=>u});var a=r(9303),o=r(8716),n=r(670),i=r(7070),c=r(884);async function u(e){let{event:t,session:r}=await e.json().catch(()=>({})),s=i.NextResponse.json({ok:!0}),a=(0,c.Z)(s);return"SIGNED_OUT"===t||"USER_DELETED"===t?await a.auth.signOut():("SIGNED_IN"===t||"INITIAL_SESSION"===t||"TOKEN_REFRESHED"===t||"USER_UPDATED"===t)&&r?.access_token&&r?.refresh_token&&await a.auth.setSession({access_token:r.access_token,refresh_token:r.refresh_token}),s}async function p(e){let t=new URL(e.url),r=t.searchParams.get("code"),s=t.searchParams.get("redirect_to")??"/",a=process.env.NEXT_PUBLIC_SITE_URL||t.origin,o=i.NextResponse.redirect(new URL(s,a));if(!r)return o;let n=(0,c.Z)(o);return await n.auth.exchangeCodeForSession(r),o}let l=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/auth/callback/route",pathname:"/api/auth/callback",filename:"route",bundlePath:"app/api/auth/callback/route"},resolvedPagePath:"/Users/Wenyu/Documents/GitHub/EJ-Blog/app/api/auth/callback/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:x,serverHooks:h}=l,_="/api/auth/callback/route";function E(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:x})}},884:(e,t,r)=>{r.d(t,{Z:()=>o});var s=r(1615),a=r(7721);let o=function(e){let t=(0,s.cookies)();return(0,a.createServerClient)(process.env.NEXT_PUBLIC_SUPABASE_URL,process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,{cookies:{get:e=>t.get(e)?.value,set(t,r,s){e.cookies.set({name:t,value:r,...s??{}})},remove(t,r){e.cookies.set({name:t,value:"",...r??{},maxAge:0})}}})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,326,738,702,972],()=>r(3379));module.exports=s})();